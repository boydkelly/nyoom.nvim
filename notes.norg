@document.meta
title: Todo
description: Stuff to fix in nyoom
author: Boyd Kelly
categories: docs
created: 2026-02-08
version: 0.1.0
@end

= TOC

==  lz-package

its really just a get-this-working macro.  no planning or thought, but reactive to errors.
but here is what it is seemingly doing.

nyoom-module >  points to module.config and so this creates the lz.n 'after' function with a require to the module config.
Adds the plugin to _G.nyoom/modules

call-setup or setup:  runs naked .setup() on the module.  (no parameters processed)
I should be able to make this run the nyoom call-setup as intended.

after/config:  Both keys do a naked require on the file they point to and insert into the 'after' function.

before
beforeAll:  Inserts the code as a function to run in the lz.n corresponding keys; currently works well to build the fzf binary for telescope.

event:      Gets passed to lz as event key
defer:      Gets passed to lz.n as event DefferedUIEnter
priority:   Passed to lz.n
branch/version:  Gets passed to vim-pack-spec as 'version'. for vim.pack
repo/name:  Gets passed to vim-pack spec as 'src' and 'name' for vim.pack

Note:  There is no <after> key like in packer to specify load order, but there is a priority key.
The current 'after' key could in theory replace nyoom-module as far as lzn is concerned.
It creates the 'after' function to run the config.

== vim-pack-spec
Adds the plugin to _G.nyoom/specs

== lz-pack  (should be lz-requires)
repo/name:  Gets passwd to vim-pack-spec fvim vim.pack
inserts lz.n triggerload command into 'after' function.  This does a packadd, but does no setup.
if you need some kind of setup a workaround is put this in the config of the requiring module.

a lot of keys are ignored, wants etc.
