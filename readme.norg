@document.meta
title: Nyoom hack readme
description: 2026 update of the Nyoom Fennel configuration
author: Boyd Kelly
categories: docs
created: 2026-02-17
version: 0.1.0
@end

* TOC

* Install
  To install the configuration, run:
  @code bash
  git clone https://github.com/boydkelly/nyoom.nvim ~/.config/nvim-nyoom
  export NVIM_APPNAME="nvim-nyoom"
  nvim
  @end

  Running `bin/nyoom install` also works and forces `NVIM_APPNAME` to `nvim-nyoom`.
  Running `bin/nyoom sync` will also preinstall treesitter parsers and lsp tools.

  Mason works too but for whatever reason it wants to reinstall every time you open it.
  Included a mise.toml that will install a bunch of lsp servers.

* Notes
  ** New Layers
  Updated/added: cmp, blink, none-ls, conform (format), lint, web, javascript, ts, svelte, oil.
  Updated to 2026 configs: tree-sitter, lsp, etc.
  But a lot of stuff is just updated to the bare minimum to get it going.

  ** Engine Changes
  - Replaced packer with `vim.pack` and {https://github.com/lumen-oss/lz.n}[lz.n]
  - Replaced hotpot with {https://github.com/udayvir-singh/tangerine.nvim}[tangerine.nvim]

  The `use-package!` macro has been replaced with `lz-package!`.
  It follows hopefully the same spirit but requires minor syntax changes in `init.fnl` files.

* lz.n spec properties
  - `after`
  - `before`
  - `beforeAll`
  - `enabled`
  - `event`
  - `ft`
  - `lazy`
  - `priority` (Only works with plugins in `start/`, not `opt/`)
  - `cmd`
  - `colorscheme`
  - `keys`
  - {https://github.com/neovim/neovim/issues/35550}[Issue #35550] currently breaks `keys` for lazy loading.
  - I've moved keymaps into `config` and used `event` triggers as a workaround.

* Nyoom keys
  - `nyoom-module`: Requires the parallel config; inserts this to the `lz.n` `after` function.
  - `run` / `build-file`: Creates `beforeAll` function for binaries (fzf, blink, etc).
  - `call-setup`: Hijacked but runs naked setup (kinda like legacy Nyoom).
  - `requires`: Adds to plugin to `vim.pack` for installation and adds `trigger_load` to the `after` function.
  - `defer`: Maps to `:event :DeferredUIEnter`.
  - other stuff may simply be ignored

_I'm just a self-taught hacker. Proceed with caution! This is nowhere near cooked. It seems pretty fast._
